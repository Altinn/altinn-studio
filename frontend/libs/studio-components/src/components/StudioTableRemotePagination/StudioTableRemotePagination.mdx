import { Canvas, Meta } from '@storybook/blocks';
import { Heading, Paragraph } from '@digdir/design-system-react';
import * as StudioTableRemotePaginationStories from './StudioTableRemotePagination.stories';
import { StudioTableRemotePagination } from './StudioTableRemotePagination';
import { propInfoColumns, propInfoRowsRemotePagination } from './mockData';
import classes from './StudioTableRemotePagination.module.css';

<Meta of={StudioTableRemotePaginationStories} />

<Heading level={1} size='small'>
  StudioTableRemotePagination
</Heading>
<Paragraph>
  StudioTableRemotePagination brings together Digdir Designsystemet's `Table` and `Pagination`
  components. This component is useful when data is retrieved in chunks, and the pagination logic is
  managed externally.
</Paragraph>

<Canvas of={StudioTableRemotePaginationStories.Preview} />

<Heading level={2} size='xsmall'>
  Column format
</Heading>
<ul>
  <li>The columns prop has two required properties: `accessor` and a `value`.</li>
  <li>
    These properties are optional: `sortable`, `headerCellClass`, `bodyCellsClass` and `valueFormatter`.
  </li>
</ul>

```tsx
export const columns = [
  {
    accessor: 'icon',
    value: '',
  },
  {
    accessor: 'name',
    value: 'Name',
    sortable: true,
  },
  {
    accessor: 'creator',
    value: 'Created by',
  },
  {
    accessor: 'lastChanged',
    value: 'Last changed',
    sortable: true,
    headerCellClass: classes.lastChangedColumnWidth,
    bodyCellsClass: 'someOtherCustomClass',
    valueFormatter: (date) => new Date(date).toLocaleDateString('nb', { dateStyle: 'short' }),
  },
];
```

<Heading level={2} size='xsmall'>
  Row format
</Heading>
<ul>
  <li>Rows must have an `id` that is unique.</li>
  <li>
    The accessors in the columns array is used to display the row properties. Therefore, each
    property name has to exactly match the accessor.
  </li>
</ul>

```tsx
const rows = [
  {
    id: 1,
    icon: <IconButton icon={<StarFillIcon />} />,
    name: 'Coordinated register notification',
    creator: 'Brønnøysund Register Centre',
    lastChanged: '2023-04-12',
  },
  {
    id: 2,
    icon: <IconButton icon={<StarFillIcon />} />,
    name: 'Application for authorisation and license as a healthcare personnel',
    creator: 'The Norwegian Directorate of Health',
    lastChanged: '2023-04-05',
  }
];
```
