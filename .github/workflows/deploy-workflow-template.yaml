name: Deploy workflow

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      testSecret:
        required: true

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: ouput tag name
        run: |
          echo ${{ inputs.tag }}

      - name: try ouput secret
        run: |
          echo ${{ secrets.testSecret }}

  other_job:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: ouput tag name job 2
        run: |
          echo ${{ inputs.tag }}

  matrix_env_job:
    needs: [build, other_job]
    runs-on: ubuntu-latest
    strategy:
      matrix:
        environment: [dev, staging, prod]
    steps:
      - name: ouput environment name
        run: |
          echo ${{ matrix.environment }}

