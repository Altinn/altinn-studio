import { Canvas, Meta } from '@storybook/addon-docs/blocks';
import { StudioHeading, StudioParagraph } from '@studio/components';
import * as StudioTableRemotePaginationStories from './StudioTableRemotePagination.stories';
import { StudioTableRemotePagination } from './StudioTableRemotePagination';
import { columns, rows, paginationTexts } from './mockData';
import classes from './StudioTableRemotePagination.module.css';

<Meta of={StudioTableRemotePaginationStories} />

<StudioHeading level={1} size='small'>
  StudioTableRemotePagination
</StudioHeading>
<StudioParagraph>
  StudioTableRemotePagination brings together Digdir Designsystemet's `Table` and `Pagination`
  components. This component is useful when data is retrieved in chunks, and the pagination logic is
  managed externally.
</StudioParagraph>

<Canvas of={StudioTableRemotePaginationStories.Preview} />

<StudioHeading level={2} size='xsmall'>
  Column format
</StudioHeading>
<ul>
  <li>The columns prop has two required properties: `accessor` and `heading`.</li>
  <li>
    These properties are optional: `sortable`, `headerCellClass`, `bodyCellClass` and
    `bodyCellFormatter`.
  </li>
</ul>

```tsx
const columns = [
  {
    accessor: 'icon',
    heading: '',
  },
  {
    accessor: 'name',
    heading: 'Name',
    sortable: true,
  },
  {
    accessor: 'creator',
    heading: 'Created by',
  },
  {
    accessor: 'lastChanged',
    heading: 'Last changed',
    sortable: true,
    headerCellClass: classes.lastChangedColumnWidth,
    bodyCellClass: 'someOtherCustomClass',
    bodyCellFormatter: (date) => formatDateDDMMYYYY(date),
  },
];
```

<StudioHeading level={2} size='xsmall'>
  Row format
</StudioHeading>
<ul>
  <li>Rows must have an `id` that is unique.</li>
  <li>
    The accessors in the columns array is used to display the row properties. Therefore, each
    property name has to exactly match the accessor.
  </li>
</ul>

```tsx
const rows = [
  {
    id: 1,
    icon: <IconButton icon={<StarFillIcon />} />,
    name: 'Coordinated register notification',
    creator: 'Brønnøysund Register Centre',
    lastChanged: '2023-04-12',
  },
  {
    id: 2,
    icon: <IconButton icon={<StarFillIcon />} />,
    name: 'Application for authorisation and license as a healthcare personnel',
    creator: 'The Norwegian Directorate of Health',
    lastChanged: '2023-04-05',
  },
];
```
