<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <PackageTags>Altinn;Studio;App;Core</PackageTags>
    <Description>
      This class library holds extra codelists for Altinn Studio apps.
    </Description>
    <!-- We don't care about transitive NuGet audit warnings for Altinn.App.Core minimum version -->
    <NuGetAuditMode>direct</NuGetAuditMode>
  </PropertyGroup>

  <ItemGroup>
    <EmbeddedResource Include="RestCountries\Data\countries.json" />

    <InternalsVisibleTo Include="$(AssemblyName).Tests" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="../../../backend/src/Altinn.App.Core/Altinn.App.Core.csproj" />
  </ItemGroup>

  <Target Name="GenerateDependencyAssemblyAttributes" BeforeTargets="GetAssemblyAttributes">
    <ItemGroup>
      <AssemblyAttribute Include="System.Reflection.AssemblyMetadataAttribute" Condition="'%(PackageReference.Identity)' != '' and '%(PackageReference.PrivateAssets)' != 'all'">
        <_Parameter1>PackageReference.%(PackageReference.Identity)</_Parameter1>
        <_Parameter2 Condition="'%(PackageReference.VersionOverride)' != ''">%(PackageReference.VersionOverride)</_Parameter2>
        <_Parameter2 Condition="'%(PackageReference.VersionOverride)' == ''">%(PackageReference.Version)</_Parameter2>
      </AssemblyAttribute>
    </ItemGroup>
  </Target>
</Project>
