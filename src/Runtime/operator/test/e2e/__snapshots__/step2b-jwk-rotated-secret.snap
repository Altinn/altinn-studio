
[controller Operator should handle manual JWK rotation via annotation - 1]
{
 "apiVersion": "v1",
 "data": {
  "maskinporten-settings.json": {
   "authority": "http://fakes:8050",
   "clientId": "<sanitized-client-id>",
   "jwk": {
    "alg": "RS512",
    "d": "<private>",
    "dp": "<private>",
    "dq": "<private>",
    "e": "AQAB",
    "kid": "<key-uuid>.1",
    "kty": "RSA",
    "n": "<rsa-modulus>",
    "p": "<private>",
    "q": "<private>",
    "qi": "<private>",
    "use": "sig",
    "x5c_decoded": [
     {
      "subject": "CN=localtestapp,OU=ttd,O=Testdepartementet",
      "validity": "720h0m0s"
     }
    ]
   },
   "jwks": {
    "keys": [
     {
      "alg": "RS512",
      "d": "<private>",
      "dp": "<private>",
      "dq": "<private>",
      "e": "AQAB",
      "kid": "<key-uuid>.1",
      "kty": "RSA",
      "n": "<rsa-modulus>",
      "p": "<private>",
      "q": "<private>",
      "qi": "<private>",
      "use": "sig",
      "x5c_decoded": [
       {
        "subject": "CN=localtestapp,OU=ttd,O=Testdepartementet",
        "validity": "720h0m0s"
       }
      ]
     },
     {
      "alg": "RS512",
      "d": "<private>",
      "dp": "<private>",
      "dq": "<private>",
      "e": "AQAB",
      "kid": "<key-uuid>.0",
      "kty": "RSA",
      "n": "<rsa-modulus>",
      "p": "<private>",
      "q": "<private>",
      "qi": "<private>",
      "use": "sig",
      "x5c_decoded": [
       {
        "subject": "CN=localtestapp,OU=ttd,O=Testdepartementet",
        "validity": "720h0m0s"
       }
      ]
     }
    ]
   }
  }
 },
 "immutable": false,
 "kind": "Secret",
 "metadata": {
  "annotations": {
   "meta.helm.sh/release-name": "ttd-localtestapp",
   "meta.helm.sh/release-namespace": "default"
  },
  "creationTimestamp": "2024-01-01T00:00:00Z",
  "labels": {
   "app": "ttd-localtestapp-deployment",
   "app.kubernetes.io/managed-by": "Helm",
   "chart": "deployment-3.6.0",
   "helm.toolkit.fluxcd.io/name": "ttd-localtestapp",
   "helm.toolkit.fluxcd.io/namespace": "default",
   "heritage": "Helm",
   "release": "ttd-localtestapp"
  },
  "name": "ttd-localtestapp-deployment-secrets",
  "namespace": "default",
  "resourceVersion": "<sanitized-resource-version>",
  "uid": "<sanitized-uid>"
 },
 "type": "Opaque"
}
---
