# Read-only repo inspection commands.
prefix_rule(
  pattern = [["cat", "find", "rg", "grep", "sed", "awk", "head", "tail", "wc", "stat", "file", "pwd", "realpath", "ls", "tree"]],
  decision = "allow",
)

# Read-only git commands.
prefix_rule(
  pattern = ["git", ["diff", "status", "log", "show"]],
  decision = "allow",
)

# Read-only GitHub CLI commands.
prefix_rule(
  pattern = ["gh", "pr", ["view", "list"]],
  decision = "allow",
)

prefix_rule(
  pattern = ["gh", "issue", "view"],
  decision = "allow",
)

prefix_rule(
  pattern = ["gh", "search", "prs"],
  decision = "allow",
)

# Build, test, and lint commands.
prefix_rule(
  pattern = ["make", ["build", "fmt", "lint", "lint-fix", "test"]],
  decision = "allow",
)

prefix_rule(
  pattern = ["dotnet", ["build", "restore"]],
  decision = "allow",
)

prefix_rule(
  pattern = ["go", ["build", "mod", "tidy"]],
  decision = "allow",
)

prefix_rule(
  pattern = ["yarn", ["test", "lint", "build", "typecheck"]],
  decision = "allow",
)
