{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "local>Altinn/renovate-config"
  ],
  "labels": [
    "dependency"
  ],
  "separateMinorPatch": true,
  "separateMultipleMajor": true,
  "baseBranchPatterns": [
    "main"
  ],
  "packageRules": [
    {
        // Limit FluentAssertions to version 7.x due to change of license in version 8.x
        "matchPackageNames":[
            "FluentAssertions"
        ],
        "allowedVersions":"<=7"
    },
    {
      "matchPackageNames": [
        "/dotnet(-|\\/)sdk/",
        "/^Microsoft\\.AspNetCore/",
        "/^Microsoft\\.Extensions/",
        "!Microsoft.Extensions.Caching.Hybrid"
      ],
      "allowedVersions": "<=8"
    },
    {
      "matchPackageNames": [
        "/^Microsoft\\.CodeAnalysis/",
        "/^Microsoft\\.Build/"
      ],
      "enabled": false
    },
    {
      // Verify.AspNetCore bumped target framework to net9.0 in 4.1, so we can't update for now
      "matchPackageNames": [
        "Verify.AspNetCore"
      ],
      "allowedVersions": "<=4.0"
    },
    {
      "matchDatasources": [
        "docker"
      ],
      "pinDigests": false,
      "matchPackageNames": [
        "/^mcr\\.microsoft\\.com/dotnet/"
      ]
    }
  ]
}
